{"version":3,"sources":["loadingoverlay.js"],"names":["factory","define","amd","module","exports","require","jQuery","$","undefined","_defaults","background","backgroundClass","image","imageAnimation","imageAutoResize","imageResizeFactor","imageColor","imageClass","imageOrder","fontawesome","fontawesomeAutoResize","fontawesomeResizeFactor","fontawesomeColor","fontawesomeOrder","custom","customAnimation","customAutoResize","customResizeFactor","customOrder","text","textAnimation","textAutoResize","textResizeFactor","textColor","textClass","textOrder","progress","progressAutoResize","progressResizeFactor","progressColor","progressClass","progressOrder","progressSpeed","progressMin","progressMax","size","maxSize","minSize","direction","fade","resizeInterval","zIndex","_css","overlay","box-sizing","position","display","flex-wrap","align-items","justify-content","element","overflow","flex","progress_wrapper","top","left","width","height","progress_bar","_dataTemplate","count","fadeOut","resizeIntervalId","_animationsWhitelist","_animationsDefaults","name","time","_Show","container","settings","value","indexOf","slice","parseFloat","parseInt","data","wholePage","is","extend","class","css","toLowerCase","addClass","_CreateElement","load","background-image","background-position","background-repeat","background-size","append","wrapper","appendTo","bar","min","max","speed","_Resize","setInterval","hide","fadeIn","_Hide","force","clearInterval","this","remove","removeData","_Text","newText","show","_Progress","newStatus","v","animate","x","offset","innerWidth","innerHeight","c","window","Math","children","each","$this","resizeFactor","hasClass","order","autoResize","animation","loadingoverlay_autoresize","loadingoverlay_resizefactor","animationName","animationTime","parts","replace","split","length","_ValidateCssTime","_ValidateAnimation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","isNaN","LoadingOverlaySetup","LoadingOverlay","action","options","fn","join"],"mappings":"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","file":"loadingoverlay.min.js","sourcesContent":["/***************************************************************************************************\r\nLoadingOverlay - A flexible loading overlay jQuery plugin\r\n    Author          : Gaspare Sganga\r\n    Version         : 2.0.0dev\r\n    License         : MIT\r\n    Documentation   : https://gasparesganga.com/labs/jquery-loading-overlay/\r\n***************************************************************************************************/\r\n;(function(factory){\r\n    if (typeof define === \"function\" && define.amd) {\r\n        // AMD. Register as an anonymous module\r\n        define([\"jquery\"], factory);\r\n    } else if (typeof module === \"object\" && module.exports) {\r\n        // Node/CommonJS\r\n        factory(require(\"jquery\"));\r\n    } else {\r\n        // Browser globals\r\n        factory(jQuery);\r\n    }\r\n}(function($, undefined){\r\n    \"use strict\";\r\n    \r\n    // Default Settings\r\n    var _defaults = {\r\n        // Background\r\n        background              : \"rgba(255, 255, 255, 0.8)\",\r\n        backgroundClass         : \"\",\r\n        // Image\r\n        image                   : \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxlbGxpcHNlIHJ4PSI4MCIgcnk9IjgwIiBjeD0iNTAwIiBjeT0iOTAiLz48ZWxsaXBzZSByeD0iODAiIHJ5PSI4MCIgY3g9IjUwMCIgY3k9IjkxMCIvPjxlbGxpcHNlIHJ4PSI4MCIgcnk9IjgwIiBjeD0iOTAiIGN5PSI1MDAiLz48ZWxsaXBzZSByeD0iODAiIHJ5PSI4MCIgY3g9IjkxMCIgY3k9IjUwMCIvPjxlbGxpcHNlIHJ4PSI4MCIgcnk9IjgwIiBjeD0iMjEyIiBjeT0iMjEyIi8+PGVsbGlwc2Ugcng9IjgwIiByeT0iODAiIGN4PSI3ODgiIGN5PSIyMTIiLz48ZWxsaXBzZSByeD0iODAiIHJ5PSI4MCIgY3g9IjIxMiIgY3k9Ijc4OCIvPjxlbGxpcHNlIHJ4PSI4MCIgcnk9IjgwIiBjeD0iNzg4IiBjeT0iNzg4Ii8+PC9zdmc+\",\r\n        imageAnimation          : \"2000ms rotate_right\",\r\n        imageAutoResize         : true,\r\n        imageResizeFactor       : 1,\r\n        imageColor              : \"#202020\",\r\n        imageClass              : \"\",\r\n        imageOrder              : 1,\r\n        // Font Awesome\r\n        fontawesome             : \"\",\r\n        fontawesomeAutoResize   : true,\r\n        fontawesomeResizeFactor : 1,\r\n        fontawesomeColor        : \"#202020\",\r\n        fontawesomeOrder        : 2,\r\n        // Custom\r\n        custom                  : \"\",\r\n        customAnimation         : false,\r\n        customAutoResize        : true,\r\n        customResizeFactor      : 1,\r\n        customOrder             : 3,\r\n        // Text\r\n        text                    : \"\",\r\n        textAnimation           : false,\r\n        textAutoResize          : true,\r\n        textResizeFactor        : 0.5,\r\n        textColor               : \"#202020\",\r\n        textClass               : \"\",\r\n        textOrder               : 4,\r\n        // Progress\r\n        progress                : false,\r\n        progressAutoResize      : true,\r\n        progressResizeFactor    : 0.25,\r\n        progressColor           : \"#a0a0a0\",\r\n        progressClass           : \"\",\r\n        progressOrder           : 5,\r\n        progressSpeed           : 200,\r\n        progressMin             : 0,\r\n        progressMax             : 100,       \r\n        // Sizing\r\n        size                    : 50,\r\n        maxSize                 : 120,\r\n        minSize                 : 20,\r\n        // Misc\r\n        direction               : \"column\",\r\n        fade                    : [400, 200],\r\n        resizeInterval          : 50,\r\n        zIndex                  : 2147483647\r\n    };\r\n    \r\n    // Required CSS\r\n    var _css = {\r\n        overlay : {\r\n            \"box-sizing\"        : \"border-box\",\r\n            \"position\"          : \"relative\",\r\n            \"display\"           : \"flex\",\r\n            \"flex-wrap\"         : \"nowrap\",\r\n            \"align-items\"       : \"center\",\r\n            \"justify-content\"   : \"space-evenly\"\r\n        },\r\n        element : {\r\n            \"box-sizing\"        : \"border-box\",\r\n            \"overflow\"          : \"visible\",\r\n            \"flex\"              : \"0 0 auto\",\r\n            \"display\"           : \"flex\",\r\n            \"justify-content\"   : \"center\",\r\n            \"align-items\"       : \"center\"\r\n        },\r\n        progress_wrapper: {\r\n            \"position\"          : \"absolute\",\r\n            \"top\"               : \"0\",\r\n            \"left\"              : \"0\",\r\n            \"width\"             : \"100%\",\r\n            \"height\"            : \"100%\"\r\n        },\r\n        progress_bar : {\r\n            \"position\"          : \"absolute\",\r\n            \"left\"              : \"0\"\r\n        }\r\n    };\r\n    \r\n    // Data Template\r\n    var _dataTemplate = {\r\n        \"count\"             : 0,\r\n        \"fadeOut\"           : undefined,\r\n        \"overlay\"           : undefined,\r\n        \"resizeIntervalId\"  : undefined,\r\n        \"text\"              : undefined,\r\n        \"progress\"          : undefined\r\n    };\r\n    \r\n    // Animations whitelist and defaults\r\n    var _animationsWhitelist = [\r\n        \"rotate_right\",\r\n        \"rotate_left\",\r\n        \"fadein\",\r\n        \"pulse\"\r\n    ];\r\n    var _animationsDefaults = {\r\n        name    : \"rotate_right\",\r\n        time    : \"2000ms\"\r\n    };\r\n    \r\n    \r\n    $.LoadingOverlaySetup = function(settings){\r\n        $.extend(true, _defaults, settings);\r\n    };\r\n    \r\n    $.LoadingOverlay = function(action, options){\r\n        switch (action.toLowerCase()) {\r\n            case \"show\":\r\n                var settings = $.extend(true, {}, _defaults, options);\r\n                _Show(\"body\", settings);\r\n                break;\r\n                \r\n            case \"hide\":\r\n                _Hide(\"body\", options);\r\n                break;  \r\n                \r\n            case \"text\":\r\n                _Text(\"body\", options);\r\n                break;\r\n                \r\n            case \"progress\":\r\n                _Progress(\"body\", options);\r\n                break;\r\n        }\r\n    };\r\n    \r\n    $.fn.LoadingOverlay = function(action, options){\r\n        switch (action.toLowerCase()) {\r\n            case \"show\":\r\n                var settings = $.extend(true, {}, _defaults, options);\r\n                return this.each(function(){\r\n                    _Show(this, settings);\r\n                });\r\n                \r\n            case \"hide\":\r\n                return this.each(function(){\r\n                    _Hide(this, options);\r\n                });\r\n                \r\n            case \"text\":\r\n                return this.each(function(){\r\n                    _Text(this, options);\r\n                });\r\n                \r\n            case \"progress\":\r\n                return this.each(function(){\r\n                    _Progress(this, options);\r\n                });\r\n        }\r\n    };\r\n    \r\n    \r\n    function _Show(container, settings){\r\n        container               = $(container);\r\n        settings.size           = _ParseSize(settings.size);\r\n        settings.maxSize        = parseInt(settings.maxSize, 10) || 0;\r\n        settings.minSize        = parseInt(settings.minSize, 10) || 0;\r\n        settings.resizeInterval = parseInt(settings.resizeInterval, 10) || 0;\r\n        \r\n        var data        = container.data(\"loadingoverlay\");\r\n        var wholePage   = container.is(\"body\");\r\n        if (typeof data === \"undefined\") {\r\n            // Init data\r\n            data = $.extend({}, _dataTemplate);\r\n            container.data(\"loadingoverlay\", data);\r\n            \r\n            // Overlay\r\n            data.overlay = $(\"<div>\", {\r\n                \"class\" : \"loadingoverlay\"\r\n            })\r\n            .css(_css.overlay)\r\n            .css(\"flex-direction\", settings.direction.toLowerCase() === \"row\" ? \"row\" : \"column\");\r\n            if (settings.backgroundClass) {\r\n                data.overlay.addClass(settings.backgroundClass);\r\n            } else {\r\n                data.overlay.css(\"background\", settings.background);\r\n            }\r\n            if (wholePage) {\r\n                data.overlay.css({\r\n                    \"position\"  : \"fixed\",\r\n                    \"top\"       : 0,\r\n                    \"left\"      : 0,\r\n                    \"width\"     : \"100%\",\r\n                    \"height\"    : \"100%\"\r\n                });\r\n            } else {\r\n                data.overlay.css(\"position\", (container.css(\"position\") === \"fixed\") ? \"fixed\" : \"absolute\");\r\n            }\r\n            if (typeof settings.zIndex !== \"undefined\") data.overlay.css(\"z-index\", settings.zIndex);\r\n            \r\n            // Image\r\n            if (settings.image) {\r\n                var element = _CreateElement(data.overlay, settings.imageOrder, settings.imageAutoResize, settings.imageResizeFactor, settings.imageAnimation);\r\n                if (settings.image.slice(0, 14).toLowerCase() === \"data:image/svg\" || settings.image.slice(-4).toLowerCase() === \".svg\") {\r\n                    // SVG\r\n                    element.load(settings.image);\r\n                    if (settings.imageClass) {\r\n                        element.addClass(settings.imageClass);\r\n                    } else if (settings.imageColor) {\r\n                        element.css(\"fill\", settings.imageColor);\r\n                    }\r\n                } else {\r\n                    // Raster\r\n                    element.css({\r\n                        \"background-image\"      : \"url(\" + settings.image + \")\",\r\n                        \"background-position\"   : \"center\",\r\n                        \"background-repeat\"     : \"no-repeat\",\r\n                        \"background-size\"       : \"cover\"\r\n                    })\r\n                    .addClass(settings.imageClass);\r\n                }\r\n            }\r\n            \r\n            // Font Awesome\r\n            if (settings.fontawesome) {\r\n                var element = _CreateElement(data.overlay, settings.fontawesomeOrder, settings.fontawesomeAutoResize, settings.fontawesomeResizeFactor, false)\r\n                    .addClass(\"loadingoverlay_fa \" + settings.fontawesome)\r\n                if (settings.fontawesomeColor) element.css(\"color\", settings.fontawesomeColor);\r\n            }\r\n            \r\n            // Custom\r\n            if (settings.custom) {\r\n                var element = _CreateElement(data.overlay, settings.customOrder, settings.customAutoResize, settings.customResizeFactor, settings.customAnimation)\r\n                    .append(settings.custom);\r\n            }\r\n            \r\n            // Text\r\n            if (settings.text) {\r\n                data.text = _CreateElement(data.overlay, settings.textOrder, settings.textAutoResize, settings.textResizeFactor, settings.textAnimation)\r\n                        .addClass(\"loadingoverlay_text\")\r\n                        .text(settings.text);\r\n                if (settings.textClass) {\r\n                    data.text.addClass(settings.textClass);\r\n                } else {\r\n                    data.text.css(\"color\", settings.textColor);\r\n                }\r\n            }\r\n            \r\n            // Progress\r\n            if (settings.progress) {\r\n                var element = _CreateElement(data.overlay, settings.progressOrder, settings.progressAutoResize, settings.progressResizeFactor, false)\r\n                    .addClass(\"loadingoverlay_progress\");\r\n                var wrapper = $(\"<div>\")\r\n                    .css(_css.progress_wrapper)\r\n                    .appendTo(element);\r\n                data.progress = {\r\n                    bar     : $(\"<div>\").css(_css.progress_bar).appendTo(wrapper),\r\n                    min     : settings.progressMin,\r\n                    max     : settings.progressMax,\r\n                    speed   : settings.progressSpeed\r\n                };\r\n                if (settings.progressClass) {\r\n                    data.progress.bar.addClass(settings.progressClass);\r\n                } else {\r\n                    data.progress.bar.css(\"background\", settings.progressColor);\r\n                } \r\n            }\r\n            \r\n            // Resize\r\n            _Resize(container, data.overlay, settings, wholePage, true);\r\n            if (settings.resizeInterval > 0) {\r\n                data.resizeIntervalId = setInterval(function(){\r\n                    _Resize(container, data.overlay, settings, wholePage, false);\r\n                }, settings.resizeInterval);\r\n            }\r\n            \r\n            //Fade\r\n            if (!settings.fade) {\r\n                settings.fade = [0, 0];\r\n            } else if (settings.fade === true) {\r\n                settings.fade = _defaults.fade;\r\n            } else if (typeof settings.fade === \"string\" || typeof settings.fade === \"number\") {\r\n                settings.fade = [settings.fade, settings.fade];\r\n            }\r\n            data.fadeOut = settings.fade[1];\r\n            \r\n            // Show LoadingOverlay\r\n            data.overlay\r\n                    .hide()\r\n                    .appendTo(\"body\")\r\n                    .fadeIn(settings.fade[0]);\r\n        }\r\n        data.count++;\r\n    }\r\n    \r\n    function _Hide(container, force){\r\n        container   = $(container);\r\n        var data    = container.data(\"loadingoverlay\");\r\n        if (typeof data === \"undefined\") return;\r\n        data.count--;\r\n        if (force || data.count <= 0) {\r\n            if (data.resizeIntervalId) clearInterval(data.resizeIntervalId);\r\n            data.overlay.fadeOut(data.fadeOut, function(){\r\n                $(this).remove();\r\n            });\r\n            container.removeData(\"loadingoverlay\");\r\n        }\r\n    }\r\n    \r\n    function _Text(container, newText){\r\n        container   = $(container);\r\n        var data    = container.data(\"loadingoverlay\");\r\n        if (typeof data === \"undefined\" || !data.text) return;\r\n        if (newText === false) {\r\n            data.text.hide();\r\n        } else {\r\n            data.text\r\n                    .show()\r\n                    .text(newText);\r\n        }\r\n    }\r\n    \r\n    function _Progress(container, newStatus){\r\n        container   = $(container);\r\n        var data    = container.data(\"loadingoverlay\");\r\n        if (typeof data === \"undefined\" || !data.progress) return;\r\n        if (newStatus === false) {\r\n            data.progress.bar.hide();\r\n        } else {\r\n            var v = ((parseFloat(newStatus) || 0) - data.progress.min) * 100 / (data.progress.max - data.progress.min);\r\n            if (v < 0)   v = 0;\r\n            if (v > 100) v = 100;\r\n            data.progress.bar\r\n                    .show()\r\n                    .animate({\r\n                        \"width\" : v + \"%\"\r\n                    }, data.progress.speed);\r\n        }\r\n    }\r\n    \r\n    function _Resize(container, overlay, settings, wholePage, force){\r\n        // Overlay\r\n        if (!wholePage) {\r\n            var x = (container.css(\"position\") === \"fixed\") ? container.position() : container.offset();\r\n            overlay.css({\r\n                \"top\"       : x.top + parseInt(container.css(\"border-top-width\"), 10),\r\n                \"left\"      : x.left + parseInt(container.css(\"border-left-width\"), 10),\r\n                \"width\"     : container.innerWidth(),\r\n                \"height\"    : container.innerHeight()\r\n            });\r\n        }\r\n        \r\n        // Elements\r\n        if (settings.size) {\r\n            var c    = wholePage ? $(window) : container;\r\n            var size = settings.size;\r\n            if (typeof size !== \"string\") {\r\n                size = Math.min(c.innerWidth(), c.innerHeight()) * size / 100;\r\n                if (settings.maxSize && size > settings.maxSize) size = settings.maxSize;\r\n                if (settings.minSize && size < settings.minSize) size = settings.minSize;\r\n            }\r\n            overlay.children(\".loadingoverlay_element\").each(function(){\r\n                var $this = $(this);\r\n                if (force || $this.data(\"loadingoverlay_autoresize\")) {\r\n                    var resizeFactor = $this.data(\"loadingoverlay_resizefactor\");\r\n                    if ($this.hasClass(\"loadingoverlay_fa\") || $this.hasClass(\"loadingoverlay_text\")) {\r\n                        $this.css(\"font-size\", size * resizeFactor);\r\n                    } else if ($this.hasClass(\"loadingoverlay_progress\")) {\r\n                        container.data(\"loadingoverlay\").progress.bar.css({\r\n                           \"height\" : size * resizeFactor,\r\n                           \"top\"    : $this.offset().top - (size * resizeFactor * 0.5)\r\n                        });\r\n                    } else {\r\n                        $this.css({\r\n                            \"width\"  : size * resizeFactor,\r\n                            \"height\" : size * resizeFactor\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    function _CreateElement(overlay, order, autoResize, resizeFactor, animation){\r\n        var element = $(\"<div>\", {\r\n            \"class\" : \"loadingoverlay_element\",\r\n            \"css\"   : {\r\n                \"order\" : order\r\n            }\r\n        })\r\n        .css(_css.element)\r\n        .data({\r\n            \"loadingoverlay_autoresize\"     : autoResize,\r\n            \"loadingoverlay_resizefactor\"   : resizeFactor\r\n        })\r\n        .appendTo(overlay);\r\n        \r\n        // Parse animation\r\n        if (animation === true) animation = _animationsDefaults.time + \" \" + _animationsDefaults.name;\r\n        if (typeof animation === \"string\") {\r\n            var animationName;\r\n            var animationTime;\r\n            var parts = animation.replace(/\\s\\s+/g, \" \").toLowerCase().split(\" \");\r\n            if (parts.length === 2 && _ValidateCssTime(parts[0]) && _ValidateAnimation(parts[1])) {\r\n                animationName = parts[1];\r\n                animationTime = parts[0];\r\n            } else if (parts.length === 2 && _ValidateCssTime(parts[1]) && _ValidateAnimation(parts[0])) {\r\n                animationName = parts[0];\r\n                animationTime = parts[1];\r\n            } else if (parts.length === 1 && _ValidateCssTime(parts[0])) {\r\n                animationName = _animationsDefaults.name;\r\n                animationTime = parts[0];\r\n            } else if (parts.length === 1 && _ValidateAnimation(parts[0])) {\r\n                animationName = parts[0];\r\n                animationTime = _animationsDefaults.time;\r\n            }\r\n            element.css({\r\n                \"animation-name\"            : \"loadingoverlay_animation__\" + animationName,\r\n                \"animation-duration\"        : animationTime,\r\n                \"animation-timing-function\" : \"linear\",\r\n                \"animation-iteration-count\" : \"infinite\"\r\n            });\r\n        }\r\n        \r\n        return element;\r\n    }\r\n    \r\n    function _ValidateCssTime(value){\r\n        return !isNaN(parseFloat(value)) && (value.slice(-1) === \"s\" || value.slice(-2) === \"ms\");\r\n    }\r\n    \r\n    function _ValidateAnimation(value){\r\n        return _animationsWhitelist.indexOf(value) > -1;\r\n    }\r\n    \r\n    \r\n    function _ParseSize(value){\r\n        // \"rem\", \"vmin\" and \"vmax\" are covered with \"em\", \"in\" and \"ax\"\r\n        return (typeof value !== \"string\" || [\"px\", \"em\", \"cm\", \"mm\", \"in\", \"pt\", \"pc\", \"vh\", \"vw\", \"ax\"].indexOf(value.slice(-2)) === -1) ? parseFloat(value) : value;\r\n    }\r\n    \r\n    \r\n    $(function(){\r\n        $(\"head\").append([\r\n            \"<style>\",\r\n                \"@-webkit-keyframes loadingoverlay_animation__rotate_right {\",\r\n                  \"to {\",\r\n                    \"-webkit-transform : rotate(360deg);\",\r\n                            \"transform : rotate(360deg);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \"@keyframes loadingoverlay_animation__rotate_right {\",\r\n                  \"to {\",\r\n                    \"-webkit-transform : rotate(360deg);\",\r\n                            \"transform : rotate(360deg);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \r\n                \"@-webkit-keyframes loadingoverlay_animation__rotate_left {\",\r\n                  \"to {\",\r\n                    \"-webkit-transform : rotate(-360deg);\",\r\n                            \"transform : rotate(-360deg);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \"@keyframes loadingoverlay_animation__rotate_left {\",\r\n                  \"to {\",\r\n                    \"-webkit-transform : rotate(-360deg);\",\r\n                            \"transform : rotate(-360deg);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \r\n                \"@-webkit-keyframes loadingoverlay_animation__fadein {\",\r\n                  \"0% {\",\r\n                            \"opacity   : 0;\",\r\n                    \"-webkit-transform : scale(0.1, 0.1);\",\r\n                            \"transform : scale(0.1, 0.1);\",\r\n                  \"}\",\r\n                  \"50% {\",\r\n                            \"opacity   : 1;\",\r\n                  \"}\",\r\n                  \"100% {\",\r\n                            \"opacity   : 0;\",\r\n                    \"-webkit-transform : scale(1, 1);\",\r\n                            \"transform : scale(1, 1);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \"@keyframes loadingoverlay_animation__fadein {\",\r\n                  \"0% {\",\r\n                            \"opacity   : 0;\",\r\n                    \"-webkit-transform : scale(0.1, 0.1);\",\r\n                            \"transform : scale(0.1, 0.1);\",\r\n                  \"}\",\r\n                  \"50% {\",\r\n                            \"opacity   : 1;\",\r\n                  \"}\",\r\n                  \"100% {\",\r\n                            \"opacity   : 0;\",\r\n                    \"-webkit-transform : scale(1, 1);\",\r\n                            \"transform : scale(1, 1);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \r\n                \"@-webkit-keyframes loadingoverlay_animation__pulse {\",\r\n                  \"0% {\",\r\n                    \"-webkit-transform : scale(0, 0);\",\r\n                            \"transform : scale(0, 0);\",\r\n                  \"}\",\r\n                  \"50% {\",\r\n                    \"-webkit-transform : scale(1, 1);\",\r\n                            \"transform : scale(1, 1);\",\r\n                  \"}\",\r\n                  \"100% {\",\r\n                    \"-webkit-transform : scale(0, 0);\",\r\n                            \"transform : scale(0, 0);\",\r\n                  \"}\",\r\n                \"}\",\r\n                \"@keyframes loadingoverlay_animation__pulse {\",\r\n                  \"0% {\",\r\n                    \"-webkit-transform : scale(0, 0);\",\r\n                            \"transform : scale(0, 0);\",\r\n                  \"}\",\r\n                  \"50% {\",\r\n                    \"-webkit-transform : scale(1, 1);\",\r\n                            \"transform : scale(1, 1);\",\r\n                  \"}\",\r\n                  \"100% {\",\r\n                    \"-webkit-transform : scale(0, 0);\",\r\n                            \"transform : scale(0, 0);\",\r\n                  \"}\",\r\n                \"}\",\r\n            \"</style>\"\r\n        ].join(\" \"));\r\n    });\r\n    \r\n}));"]}